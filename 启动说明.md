# 后端程序启动说明

## 方式一：使用 Maven 命令启动（推荐）

### 1. 打开终端/命令行

在项目根目录 `C:\Users\yiwen.li\ecosystem_backend` 打开终端

### 2. 执行启动命令

```bash
mvn spring-boot:run
```

### 3. 等待启动完成

看到以下信息表示启动成功：
```
Started EcosystemBackendApplication in X.XXX seconds
```

---

## 方式二：先编译再运行

### 1. 编译打包

```bash
mvn clean package
```

### 2. 运行 JAR 文件

```bash
java -jar target/ecosystem-backend-1.0.0.jar
```

---

## 方式三：在 IDE 中启动

### IntelliJ IDEA

1. 找到 `EcosystemBackendApplication.java` 文件
2. 右键点击文件
3. 选择 "Run 'EcosystemBackendApplication.main()'"
   或点击类名旁边的绿色运行按钮

### Eclipse / VS Code

1. 找到 `EcosystemBackendApplication.java` 文件
2. 右键点击文件
3. 选择 "Run As" -> "Java Application"

---

## 启动前检查

### ✅ 确保以下服务已启动

1. **MySQL 数据库**
   - 确保 MySQL 服务正在运行
   - 确保数据库 `ecoschema` 已创建
   - 确保数据库连接信息正确（用户名、密码）

### ✅ 检查配置文件

确认 `src/main/resources/application.yml` 中的配置：
- 数据库连接信息
- 端口号（默认 8000）

---

## 验证启动成功

### 1. 查看控制台输出

启动成功后，你会看到：
```
Tomcat started on port(s): 8000 (http)
Started EcosystemBackendApplication in X.XXX seconds
```

### 2. 测试 API 接口

打开浏览器或使用 Postman 测试：

**测试注册接口**:
```bash
POST http://localhost:8000/api/auth/register
Content-Type: application/json

{
  "email": "test@example.com",
  "password": "password123",
  "name": "Test User"
}
```

**测试登录接口**:
```bash
POST http://localhost:8000/api/auth/login
Content-Type: application/json

{
  "email": "test@example.com",
  "password": "password123"
}
```

---

## 常见问题

### 问题 1: 端口被占用

**错误信息**: `Port 8000 is already in use`

**解决方法**:
- 修改 `application.yml` 中的端口号
- 或关闭占用 8000 端口的程序

### 问题 2: 数据库连接失败

**错误信息**: `Communications link failure` 或 `Access denied`

**解决方法**:
- 检查 MySQL 服务是否启动
- 检查数据库连接信息（用户名、密码、数据库名）
- 确认数据库 `ecoschema` 已创建

### 问题 3: Maven 命令不存在

**错误信息**: `'mvn' is not recognized`

**解决方法**:
- 安装 Maven 并配置环境变量
- 或使用 IDE 启动项目

---

## 启动后的访问地址

- **API 基础地址**: `http://localhost:8000/api`
- **登录接口**: `POST http://localhost:8000/api/auth/login`
- **注册接口**: `POST http://localhost:8000/api/auth/register`
- **获取用户信息**: `GET http://localhost:8000/api/auth/me`
- **验证 Token**: `GET http://localhost:8000/api/auth/verify`

---

## 停止程序

在运行程序的终端中按 `Ctrl + C` 停止程序

